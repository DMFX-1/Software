<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>C55XX CSL LP: I2C Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL LP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2C Functions</div>  </div>
<div class="ingroups"><a class="el" href="group__CSL__I2C__API.html">I2C</a></div></div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga67041a0cef243bbf918176f4d6d839b4">I2C_init</a> (Uint16 instanceNum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#gab7009760658706f317159c8b62c66a69">I2C_config</a> (<a class="el" href="structCSL__I2cConfig.html">CSL_I2cConfig</a> *i2cConfig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga6834129c21c097acf850917f34362062">I2C_getConfig</a> (<a class="el" href="structCSL__I2cConfig.html">CSL_I2cConfig</a> *i2cgetConfig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga709f7e8a3f91d0503b9cd69fca070740">I2C_setup</a> (<a class="el" href="structCSL__I2cSetup.html">CSL_I2cSetup</a> *i2cSetup)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga40677996edbd383d5f93491cb4e32296">I2C_write</a> (Uint16 *i2cWrBuf, Uint16 dataLength, Uint16 slaveAddr, Bool masterMode, Uint16 startStopFlag, Uint16 timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga6c593603b566efe4342731253c0a3fd2">I2C_read</a> (Uint16 *i2cRdBuf, Uint16 dataLength, Uint16 slaveAddr, Uint16 *subAddr, Uint16 subAddrLength, Bool masterMode, Uint16 startStopFlag, Uint16 timeout, Bool checkBus)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga8407f0a6ed0cb3a1d62ee21c226f58d1">I2C_eventEnable</a> (<a class="el" href="group__CSL__I2C__ENUM.html#ga90fd7a44537edc766218f968c5e79115">CSL_I2cEvent</a> i2cEvent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga10d949c36ec4142704df2cc53995e1e1">I2C_eventDisable</a> (<a class="el" href="group__CSL__I2C__ENUM.html#ga90fd7a44537edc766218f968c5e79115">CSL_I2cEvent</a> i2cEvent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#gacd9c133f1d2f1687804899a2325dba10">I2C_setCallback</a> (<a class="el" href="structCSL__I2cIsrAddr.html">CSL_I2cIsrAddr</a> *i2cIsrAddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Int16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CSL__I2C__FUNCTION.html#ga1ef6d0d4e5f9cf696ed0f8a3150b105b">I2C_getEventId</a> (void)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab7009760658706f317159c8b62c66a69"></a><!-- doxytag: member="csl_i2c.h::I2C_config" ref="gab7009760658706f317159c8b62c66a69" args="(CSL_I2cConfig *i2cConfig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSL__I2cConfig.html">CSL_I2cConfig</a> *&#160;</td>
          <td class="paramname"><em>i2cConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_config</b> </p>
<p><b>Description</b> <br/>
 Configures the I2C module. Using this function application can pass the value of the each register to be configured.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cConfig      I2C config structure pointer
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Configures the I2C registers</p>
<p><b>Modifies</b> <br/>
 I2C registers</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            CSL_Status       status;
            CSL_I2cConfig    i2cConfig;

            i2cConfig.icoar  = CSL_I2C_ICOAR_DEFVAL;
            i2cConfig.icimr  = CSL_I2C_ICIMR_DEFVAL;
            i2cConfig.icclkl = CSL_I2C_ICCLK_DEFVAL;
            i2cConfig.icclkh = CSL_I2C_ICCLK_DEFVAL;
            i2cConfig.iccnt  = CSL_I2C_DATA_SIZE;
            i2cConfig.icsar  = CSL_I2C_ICSAR_DEFVAL;
            i2cConfig.icmdr  = CSL_I2C_ICMDR_WRITE_DEFVAL;
            i2cConfig.icemdr = CSL_I2C_ICEMDR_DEFVAL;
            i2cConfig.icpsc  = CSL_I2C_ICPSC_DEFVAL;

            status = I2C_init(CSL_I2C0);
            ....
            status = I2C_config(&amp;i2cConfig);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga10d949c36ec4142704df2cc53995e1e1"></a><!-- doxytag: member="csl_i2c.h::I2C_eventDisable" ref="ga10d949c36ec4142704df2cc53995e1e1" args="(CSL_I2cEvent i2cEvent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_eventDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CSL__I2C__ENUM.html#ga90fd7a44537edc766218f968c5e79115">CSL_I2cEvent</a>&#160;</td>
          <td class="paramname"><em>i2cEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_eventDisable</b> </p>
<p><b>Description</b> <br/>
 Disables the I2C events. I2C has several events which can generate interrupt to the CPU. Application can disable any of the event using this function.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cEvent      Event to be disabled
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init and I2C_eventEnable should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Disables I2C interrupt for a particular event</p>
<p><b>Modifies</b> <br/>
 I2C Interrupt enable register</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            CSL_Status       status;

            status = I2C_init(CSL_I2C0);
            ....
            ....
            status = I2C_eventEnable(CSL_I2C_EVENT_ICXRDY);
            ....
            ....
            status = I2C_eventDisable(CSL_I2C_EVENT_ICXRDY);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga8407f0a6ed0cb3a1d62ee21c226f58d1"></a><!-- doxytag: member="csl_i2c.h::I2C_eventEnable" ref="ga8407f0a6ed0cb3a1d62ee21c226f58d1" args="(CSL_I2cEvent i2cEvent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_eventEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CSL__I2C__ENUM.html#ga90fd7a44537edc766218f968c5e79115">CSL_I2cEvent</a>&#160;</td>
          <td class="paramname"><em>i2cEvent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_eventEnable</b> </p>
<p><b>Description</b> <br/>
 Enables the I2C events for interrupt generation. I2C has several events which can generate interrupt to the CPU. Application can enable any of the event using this function.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cEvent      Event to be enabled
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Enables I2C interrupt for a particular event</p>
<p><b>Modifies</b> <br/>
 I2C Interrupt enable register</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            CSL_Status       status;

            status = I2C_init(CSL_I2C0);
            ....
            ....
            status = I2C_eventEnable(CSL_I2C_EVENT_ICXRDY);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga6834129c21c097acf850917f34362062"></a><!-- doxytag: member="csl_i2c.h::I2C_getConfig" ref="ga6834129c21c097acf850917f34362062" args="(CSL_I2cConfig *i2cgetConfig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_getConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSL__I2cConfig.html">CSL_I2cConfig</a> *&#160;</td>
          <td class="paramname"><em>i2cgetConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_getConfig</b> </p>
<p><b>Description</b> <br/>
 Gets the I2C configuration parameters</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cgetConfig      I2C Configuration structure pointer
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_config should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Populates the I2C config structure</p>
<p><b>Modifies</b> <br/>
 Structure pointed by getI2cConfig</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            CSL_Status       status;
            CSL_I2cConfig    i2cConfig;
            CSL_I2cConfig    i2cgetConfig

            i2cConfig.icoar  = CSL_I2C_ICOAR_DEFVAL;
            i2cConfig.icimr  = CSL_I2C_ICIMR_DEFVAL;
            i2cConfig.icclkl = CSL_I2C_ICCLK_DEFVAL;
            i2cConfig.icclkh = CSL_I2C_ICCLK_DEFVAL;
            i2cConfig.iccnt  = CSL_I2C_DATA_SIZE;
            i2cConfig.icsar  = CSL_I2C_ICSAR_DEFVAL;
            i2cConfig.icmdr  = CSL_I2C_ICMDR_WRITE_DEFVAL;
            i2cConfig.icemdr = CSL_I2C_ICEMDR_DEFVAL;
            i2cConfig.icpsc  = CSL_I2C_ICPSC_DEFVAL;

            status = I2C_init(CSL_I2C0);
            ....
            status = I2C_config(&amp;i2cConfig);
            ....
            ....
            status = I2C_getConfig(&amp;i2cgetConfig);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga1ef6d0d4e5f9cf696ed0f8a3150b105b"></a><!-- doxytag: member="csl_i2c.h::I2C_getEventId" ref="ga1ef6d0d4e5f9cf696ed0f8a3150b105b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int16 I2C_getEventId </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_getEventId</b> </p>
<p><b>Description</b> <br/>
 Returns the I2C event ID. This event represent the I2C interrupt in the I2C interrupt vector register</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            None
     </pre></div><p><b> Return Value </b> <br/>
 I2C Event Id</p>
<p><b> Pre Condition </b> <br/>
 None</p>
<p><b> Post Condition </b> <br/>
 Returns I2C event Id</p>
<p><b>Modifies</b> <br/>
 None</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            Int16    i2cEvent;

            i2cEvent = I2C_getEventId();
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga67041a0cef243bbf918176f4d6d839b4"></a><!-- doxytag: member="csl_i2c.h::I2C_init" ref="ga67041a0cef243bbf918176f4d6d839b4" args="(Uint16 instanceNum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_init </td>
          <td>(</td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>instanceNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_init</b> </p>
<p><b>Description</b> <br/>
 Initializes the I2C CSL module</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            instanceNum      I2C Hardware instance number
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 None</p>
<p><b> Post Condition </b> <br/>
 Initializes I2C module</p>
<p><b>Modifies</b> <br/>
 I2C Object structure</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            CSL_Status    status;
            status = I2C_init(CSL_I2C0);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga6c593603b566efe4342731253c0a3fd2"></a><!-- doxytag: member="csl_i2c.h::I2C_read" ref="ga6c593603b566efe4342731253c0a3fd2" args="(Uint16 *i2cRdBuf, Uint16 dataLength, Uint16 slaveAddr, Uint16 *subAddr, Uint16 subAddrLength, Bool masterMode, Uint16 startStopFlag, Uint16 timeout, Bool checkBus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_read </td>
          <td>(</td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>i2cRdBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>dataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>slaveAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>subAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>subAddrLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&#160;</td>
          <td class="paramname"><em>masterMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>startStopFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&#160;</td>
          <td class="paramname"><em>checkBus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_read</b> </p>
<p><b>Description</b> <br/>
 Receives the I2C data from the I2C device.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cRdBuf           I2C Data buffer pointer
            dataLength         Number bytes to receive
            slaveAddr          Address of the slave device
            masterMode         Master mode flag
            startStopFlag      Flag for the start and stop bits
            timeout            Time out variable
            checkBus           Check Bus busy flag
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter </li>
<li>CSL_I2C_BUS_BUSY_ERR - Busy Bit Error </li>
<li>CSL_I2C_TIMEOUT_ERROR - Time out Error has occured </li>
<li>CSL_I2C_RECEIVE_OVERFLOW_ERR - Recieve Register over flow error</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init and I2C_config/I2C_setup should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Receives the I2C data</p>
<p><b>Modifies</b> <br/>
 I2C data buffer</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            #define CSL_I2C_SYS_CLK          (12)    // In MHz
            #define CSL_I2C_BUS_FREQ         (10)    // In KHz
            #define CSL_I2C_DATA_SIZE        (16)
            #define CSL_I2C_EEPROM_ADDR      (0x50)
            #define CSL_I2CEEPROM_ADDR_SIZE  (2)

            Uint16           i2cDataBuf[CSL_I2C_DATA_SIZE];
            CSL_Status       status;
            CSL_I2cSetup     i2cSetup;

            i2cSetup.addrMode    = CSL_I2C_ADDR_7BIT;
            i2cSetup.bitCount    = CSL_I2C_BC_8BITS;
            i2cSetup.loopBack    = CSL_I2C_LOOPBACK_DISABLE;
            i2cSetup.freeMode    = CSL_I2C_FREEMODE_DISABLE;
            i2cSetup.repeatMode  = CSL_I2C_REPEATMODE_DISABLE;
            i2cSetup.ownAddr     = CSL_I2C_OWN_ADDR;
            i2cSetup.sysInputClk = CSL_I2C_SYS_CLK;
            i2cSetup.i2cBusFreq  = CSL_I2C_BUS_FREQ;

            status = I2C_init(CSL_I2C0);
            ....
            status = I2C_setup(&amp;i2cSetup);
            ....
            ....
            status = I2C_read(i2cDataBuf, CSL_I2C_DATA_SIZE, CSL_I2C_EEPROM_ADDR,
                              TRUE, 1, CSL_I2C_MAX_TIMEOUT, FALSE);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="gacd9c133f1d2f1687804899a2325dba10"></a><!-- doxytag: member="csl_i2c.h::I2C_setCallback" ref="gacd9c133f1d2f1687804899a2325dba10" args="(CSL_I2cIsrAddr *i2cIsrAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_setCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSL__I2cIsrAddr.html">CSL_I2cIsrAddr</a> *&#160;</td>
          <td class="paramname"><em>i2cIsrAddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_setCallback</b> </p>
<p><b>Description</b> <br/>
 Sets the call back functions for different I2C interrupts. These callback functions are called from the Interrupt service routine based on the interrupt generated by a particular event</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cIsrAddr      I2C ISR address structure pointer
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 None</p>
<p><b> Post Condition </b> <br/>
 Sets the call functions</p>
<p><b>Modifies</b> <br/>
 Callback pointer array</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            void alCallback(void);      // Arbitration Loss event callback
            void nackCallback(void);    // No acknowledgement event callback
            void ardyCallback(void);    // register access ready event callback
            void rrdyCallback(void);    // receive data ready event callback
            void xrdyCallback(void);    // transmit data ready event callback
            void scdCallback(void);     // stop condition detected event callback
            void aasCallback(void);     // Address As Slave interrupt callback

            CSL_I2cIsrAddr    i2cIsrAddr;
            CSL_Status        status;

            i2cIsrAddr.alAddr   = alCallback;
            i2cIsrAddr.nackAddr = nackCallback;
            i2cIsrAddr.ardyAddr = ardyCallback;
            i2cIsrAddr.rrdyAddr = rrdyCallback;
            i2cIsrAddr.xrdyAddr = xrdyCallback;
            i2cIsrAddr.scdAddr  = scdCallback;
            i2cIsrAddr.aasAddr  = aasCallback;

            status = I2C_setCallback(i2cIsrAddr);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga709f7e8a3f91d0503b9cd69fca070740"></a><!-- doxytag: member="csl_i2c.h::I2C_setup" ref="ga709f7e8a3f91d0503b9cd69fca070740" args="(CSL_I2cSetup *i2cSetup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSL__I2cSetup.html">CSL_I2cSetup</a> *&#160;</td>
          <td class="paramname"><em>i2cSetup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_setup</b> </p>
<p><b>Description</b> <br/>
 Sets the I2C hardware registers. This functions task is same as that of I2C_config, but this function provides more flexible interface to the application. Application can pass the individual configuration values rather than the register value.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cSetup      I2C setup structure
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Sets the I2C register values</p>
<p><b>Modifies</b> <br/>
 I2C registers</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            #define CSL_I2C_SYS_CLK        (12)    // In MHz
            #define CSL_I2C_BUS_FREQ       (10)    // In KHz

            CSL_Status       status;
            CSL_I2cSetup     i2cSetup;

            i2cSetup.addrMode    = CSL_I2C_ADDR_7BIT;
            i2cSetup.bitCount    = CSL_I2C_BC_8BITS;
            i2cSetup.loopBack    = CSL_I2C_LOOPBACK_DISABLE;
            i2cSetup.freeMode    = CSL_I2C_FREEMODE_DISABLE;
            i2cSetup.repeatMode  = CSL_I2C_REPEATMODE_DISABLE;
            i2cSetup.ownAddr     = CSL_I2C_OWN_ADDR;
            i2cSetup.sysInputClk = CSL_I2C_SYS_CLK;
            i2cSetup.i2cBusFreq  = CSL_I2C_BUS_FREQ;

            status = I2C_init(CSL_I2C0);
            ....
            status = I2C_setup(&amp;i2cSetup);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
<a class="anchor" id="ga40677996edbd383d5f93491cb4e32296"></a><!-- doxytag: member="csl_i2c.h::I2C_write" ref="ga40677996edbd383d5f93491cb4e32296" args="(Uint16 *i2cWrBuf, Uint16 dataLength, Uint16 slaveAddr, Bool masterMode, Uint16 startStopFlag, Uint16 timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status I2C_write </td>
          <td>(</td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>i2cWrBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>dataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>slaveAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&#160;</td>
          <td class="paramname"><em>masterMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>startStopFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>============================================================================ <br/>
<b>I2C_write</b> </p>
<p><b>Description</b> <br/>
 Transmits the I2C data to I2C device.</p>
<p><b>Arguments</b> </p>
<div class="fragment"><pre class="fragment">
            i2cWrBuf           I2C Data buffer pointer
            dataLength         Number bytes to transmit
            slaveAddr          Address of the slave device
            masterMode         Master mode flag
            startStopFlag      Flag for the start and stop bits
            timeout            Time out variable
     </pre></div><p><b> Return Value </b> CSL_Status </p>
<ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter </li>
<li>CSL_I2C_BUS_BUSY_ERR - Busy Bit Error </li>
<li>CSL_I2C_TIMEOUT_ERROR - Time out Error has occured </li>
<li>CSL_I2C_NACK_ERR - No acknowledgement Error</li>
</ul>
<p><b> Pre Condition </b> <br/>
 I2C_init and I2C_config/I2C_setup should be called successfully</p>
<p><b> Post Condition </b> <br/>
 Transmits the I2C data</p>
<p><b>Modifies</b> <br/>
 I2C transmit register</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment">
            #define CSL_I2C_SYS_CLK          (12)    // In MHz
            #define CSL_I2C_BUS_FREQ         (10)    // In KHz
            #define CSL_I2C_DATA_SIZE        (16)
            #define CSL_I2C_EEPROM_ADDR      (0x50)

            Uint16           i2cDataBuf[CSL_I2C_DATA_SIZE];
            CSL_Status       status;
            CSL_I2cSetup     i2cSetup;

            i2cSetup.addrMode    = CSL_I2C_ADDR_7BIT;
            i2cSetup.bitCount    = CSL_I2C_BC_8BITS;
            i2cSetup.loopBack    = CSL_I2C_LOOPBACK_DISABLE;
            i2cSetup.freeMode    = CSL_I2C_FREEMODE_DISABLE;
            i2cSetup.repeatMode  = CSL_I2C_REPEATMODE_DISABLE;
            i2cSetup.ownAddr     = CSL_I2C_OWN_ADDR;
            i2cSetup.sysInputClk = CSL_I2C_SYS_CLK;
            i2cSetup.i2cBusFreq  = CSL_I2C_BUS_FREQ;

            status = I2C_init(CSL_I2C0);
            ....
            status = I2C_setup(&amp;i2cSetup);
            ....
            ....
            status = I2C_write(i2cDataBuf, CSL_I2C_DATA_SIZE,
                               CSL_I2C_EEPROM_ADDR, TRUE, 1,
                               CSL_I2C_MAX_TIMEOUT);
     </pre></div><p> ============================================================================ </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Mar 27 2013 13:32:43 for C55XX CSL LP by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
