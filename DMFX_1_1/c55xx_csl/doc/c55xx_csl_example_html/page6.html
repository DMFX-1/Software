<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>C55XX CSL LP EXAMPLE: I2S EXAMPLE DOCUMENTATION</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL LP EXAMPLE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">I2S EXAMPLE DOCUMENTATION </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="I2S2"></a>
I2S EXAMPLE2 - DMA MODE TEST</h1>
<h2><a class="anchor" id="I2S2x"></a>
TEST DESCRIPTION:</h2>
<p>This test verifies the operation of CSL I2S module in DMA mode. I2S module on C5535/C5515/C5517 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. CSL DMA module should be configured for the I2S Tx and Rx operations. DMA module is used to transfer the data between CPU memory and I2S data registers. I2S is configured to master mode, stereo, 16bit data length and to loop back mode. Due to word swap behavior of the DMA while transferring the data to/from I2S, I2S write data buffer should be word swapped before transferring it to the I2S registers. In case of I2S no word swap is required on the data received due internal word swap by the I2S in loopback mode. I2S data transfer is enabled and DMA is started using DMA_start() API. DMA writes the data to the I2s Tx registers. After successful completion of write operation DMA is configured for Rx operation and again started to read the data from I2S Rx registers. I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5535, C5515 AND C5517. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h2><a class="anchor" id="I2S2y"></a>
TEST PROCEDURE:</h2>
<ul>
<li>Open the CCS and connect the target (C5535/C5515 EVM or C5517 EVM) </li>
<li>Open the project "CSL_I2S_DMAExampale_Out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at the following PLL frequencies C5515: 60MHz and 100MHz C5517: 60MHz, 100MHz, 150MHz and 200MHz C5535 eZdsp: 60MHz and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h2><a class="anchor" id="I2S2z"></a>
TEST RESULT:</h2>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful. <hr/>
</li>
</ul>
<h1><a class="anchor" id="I2S3"></a>
I2S EXAMPLE3 - INTERRUPT MODE TEST</h1>
<h2><a class="anchor" id="I2S3x"></a>
TEST DESCRIPTION:</h2>
<p>This test verifies the operation of CSL I2S module in interrupt mode. I2S module on C5535/C5515/C5517 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. CSL INTC module should be configured and I2S ISR should be registered before starting the data transfer. Separate ISRs are registered for I2S Tx and Rx. Interrupts are used to check the Tx/Rx status of the I2S. I2S is configured to master mode,stereo, 16bit data length and to loop back mode. When the I2S data transfer is enabled I2S starts generating the Tx interrupts. Data is written to the I2S Tx registers in the ISR 'i2s_txIsr'. As the I2S is configured in loopback mode when the data is written to Tx register it will be transmitted to Rx register and Rx interrupt will be generated. Data will be read from the I2S Rx registers in the ISR 'i2s_rxIsr'.I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5535, C5515 AND C5517. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h2><a class="anchor" id="I2S3y"></a>
TEST PROCEDURE:</h2>
<ul>
<li>Open the CCS and connect the target (C5535/C5515 EVM or C5517 EVM) </li>
<li>Open the project "CSL_I2S_INTCExample_Out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at the following PLL frequencies C5515: 60MHz and 100MHz C5517: 60MHz, 100MHz, 150MHz and 200MHz C5535 eZdsp: 60MHz and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h2><a class="anchor" id="I2S3z"></a>
TEST RESULT:</h2>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful.</li>
</ul>
<h1><a class="anchor" id="I2S4"></a>
I2S EXAMPLE4 - IDLE LOOP</h1>
<h2><a class="anchor" id="I2S4x"></a>
TEST DESCRIPTION:</h2>
<p>This test verifies the operation of CSL I2S module with the Hardware Audio Codec in DMA Interrupt mode. I2S module on C5535/C5515/C5517 DSP is used to exchange the audio data between the audio codec and DSP. </p>
<pre class="fragment">    Testing of the I2S with the audio codec is done by integrating the I2S,
</pre><p> I2C and DMA CSL Module, to send a sine wave to the Data input registers of the Audio Codec, which inturn will pump this sine wave to the Data Output register, and finally to the Stereo Output. </p>
<pre class="fragment">I2C CSL Module is used to configure the Audio Codec with proper
</pre><p> configurations. CSL DMA module should be configured for the I2S Tx and Rx operations, I2S is configured to Slave mode and the Codec is configured in Master Mode. DMA module is used to transfer the data between CPU memory and I2S data registers, the I2S Module will inturn transfer the Data to the Codec Data Input registers.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5535, C5515 AND C5517. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h2><a class="anchor" id="I2S4y"></a>
TEST PROCEDURE:</h2>
<ul>
<li>Open the CCS and connect the target (C5535/C5515 EVM or C5517 EVM) </li>
<li>Open the project "CSL_I2S_IdleLoop_Example_Out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at the following PLL frequencies C5515: 60MHz and 100MHz C5517: 60MHz, 100MHz, 150MHz and 200MHz C5535 eZdsp: 60MHz and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h2><a class="anchor" id="I2S4z"></a>
TEST RESULT:</h2>
<ul>
<li>All the CSL APIs should return success</li>
</ul>
<h1><a class="anchor" id="I2S1"></a>
I2S EXAMPLE1 - POLL MODE TEST</h1>
<h2><a class="anchor" id="I2S1x"></a>
TEST DESCRIPTION:</h2>
<p>This test verifies the operation of CSL I2S module in polled mode. I2S module on C5535/C5515/C5517 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. I2S is configured to master mode, stereo, 16bit data length and to loop back mode. I2S data transfer is enabled and the data is transferred to the I2S using I2S_write() API. After successful completion of I2S write data is read from the I2S using I2S_read() API. I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5535, C5515 AND C5517. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h2><a class="anchor" id="I2S1y"></a>
TEST PROCEDURE:</h2>
<ul>
<li>Open the CCS and connect the target (C5535/C5515/C5517 EVM) </li>
<li>Open the project "CSL_I2S_PollExample_out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at the following PLL frequencies C5515: 60MHz and 100MHz C5517: 60MHz, 100MHz, 150MHz and 200MHz C5535 eZdsp: 60MHz and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h2><a class="anchor" id="I2S1z"></a>
TEST RESULT:</h2>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful. <hr/>
</li>
</ul>
<h1><a class="anchor" id="I2S5"></a>
I2S EXAMPLE5 - I2S MULTIPLE INSTANCES TEST IN DMA MODE</h1>
<h2><a class="anchor" id="I2S5x"></a>
TEST DESCRIPTION:</h2>
<p>This test verifies the operation of CSL I2S module for multiple instances, in DMA mode. I2S module on C5535/C5515/C5517 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. For each instance of I2S in loopback mode of operation, data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. CSL DMA module should be configured for the I2S Tx and Rx operations. DMA module is used to transfer the data between CPU memory and I2S data registers. I2S is configured to master mode, stereo, 16bit data length and to loop back mode. Due to word swap behavior of the DMA while transferring the data to/from I2S, I2S write data buffer should be word swapped before transferring it to the I2S registers. In case of I2S no word swap is required on the data received due internal word swap by the I2S in loopback mode. I2S data transfer is enabled and DMA is started using DMA_start() API. DMA writes the data to the I2s Tx registers. After successful completion of write operation DMA is configured for Rx operation and again started to read the data from I2S Rx registers. I2S write and read buffers are compared for the data verification. The above procedure is carried out for each instance of the I2S, that are supported on the platform.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5535, C5515 AND C5517. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h2><a class="anchor" id="I2S5y"></a>
TEST PROCEDURE:</h2>
<ul>
<li>Open the CCS and connect the target (C5535/C5515 EVM or C5517 EVM) </li>
<li>Open the project "CSL_I2S_DMA_MultipleInstanceExample_out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at the following PLL frequencies C5515: 60MHz and 100MHz C5517: 60MHz, 100MHz, 150MHz and 200MHz C5535 eZdsp: 60MHz and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h2><a class="anchor" id="I2S5z"></a>
TEST RESULT:</h2>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful on all the I2S instances, supported by the Platform. <hr/>
 </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 12 2013 15:14:32 for C55XX CSL LP EXAMPLE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
